<!DOCTYPE html>
<html lang="en" class="h-full">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="turbo-cache-control" content="no-cache">

    <title>Serialization Attributes</title>

    <meta name="description" content="Attributes can be used to control how Json.NET serializes and deserializes .NET objects." />

    <script>(function () { var el = document.documentElement, m = localStorage.getItem("doc_theme"), wm = window.matchMedia; if (m === "dark" || (!m && wm && wm("(prefers-color-scheme: dark)").matches)) { el.classList.add("dark") } else { el.classList.remove("dark") } })();</script>

    <link href="/Newtonsoft.Json/resources/css/retype.css" rel="stylesheet" />

    <script type="text/javascript" src="/Newtonsoft.Json/resources/js/config.js" defer></script>
    <script type="text/javascript" src="/Newtonsoft.Json/resources/js/retype.js" defer></script>
</head>
    <body>
        <div id="docs-app" class="relative text-base antialiased text-gray-700 bg-white font-body dark:bg-dark-850 dark:text-dark-300">
    <div class="absolute bottom-0 left-0 bg-gray-100 dark:bg-dark-800" style="top: 5rem; right: 50%"></div>

    <header id="docs-site-header" class="sticky top-0 z-30 flex w-full h-16 bg-white border-b border-gray-200 md:h-20 dark:bg-dark-850 dark:border-dark-650">
    <div class="container relative flex items-center justify-between flex-grow pr-6 md:justify-start">
        <!-- Mobile menu button skeleton -->
        <button v-cloak class="skeleton docs-mobile-menu-button flex items-center justify-center flex-shrink-0 overflow-hidden dark:text-white focus:outline-none rounded-full w-10 h-10 ml-3.5 md:hidden"><svg xmlns="http://www.w3.org/2000/svg" class="mb-px flex-shrink-0" width="24" height="24" viewBox="0 0 24 24" role="presentation" style="margin-bottom: 0px;"><g fill="currentColor"><path d="M2 4h20v2H2zM2 11h20v2H2zM2 18h20v2H2z"></path></g></svg></button>
        <div v-cloak id="docs-sidebar-toggle"></div>

        <!-- Logo -->
        <div class="flex items-center justify-between h-full py-2 md:w-75">
            <div class="flex items-center px-2 md:px-6">
                <span id="docs-site-logo" class="dark:text-white text-2xl leading-snug font-semibold line-clamp-1 md:line-clamp-2">
                    <a href="/Newtonsoft.Json/">Json.NET</a>
                </span>
                <span class="hidden px-2 py-1 ml-4 text-sm font-semibold leading-none text-root-logo-label-text bg-root-logo-label-bg rounded-sm md:inline-block">Docs</span>
            </div>

            <span class="hidden h-8 border-r md:inline-block dark:border-dark-650"></span>
        </div>

        <div class="flex justify-between md:flex-grow">
            <!-- Top Nav -->
            <nav class="hidden md:flex">
                <ul class="flex flex-col mb-4 md:pl-16 md:mb-0 md:flex-row md:items-center">
                    <li class="md:mr-6">
                        <a class="block py-2 text-sm text-gray-400 whitespace-nowrap transition-colors duration-200 ease-linear md:text-blue-500 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200 md:mb-0" href="https://www.newtonsoft.com/json">Json.NET</a>
                    </li>
                    <li class="md:mr-6">
                        <a class="block py-2 text-sm text-gray-400 whitespace-nowrap transition-colors duration-200 ease-linear md:text-blue-500 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200 md:mb-0" href="https://www.newtonsoft.com/jsonschema">Json.NET Schema</a>
                    </li>
                    <li class="md:mr-6">
                        <a class="block py-2 text-sm text-gray-400 whitespace-nowrap transition-colors duration-200 ease-linear md:text-blue-500 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200 md:mb-0" href="https://www.newtonsoft.com/store">Pricing</a>
                    </li>
                    <li class="md:mr-6">
                        <a class="block py-2 text-sm text-gray-400 whitespace-nowrap transition-colors duration-200 ease-linear md:text-blue-500 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200 md:mb-0" href="https://github.com/JamesNK/Newtonsoft.Json">GitHub</a>
                    </li>
                </ul>
            </nav>

            <!-- Header Right Skeleton -->
            <div v-cloak class="flex justify-end flex-grow skeleton">

                <!-- Search input mock -->
                <div class="relative hidden w-40 lg:block lg:max-w-sm lg:ml-auto">
                    <div class="absolute flex items-center justify-center h-full pl-3 dark:text-dark-300">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon-base" width="16" height="16" viewBox="0 0 24 24" aria-labelledby="icon" role="presentation"  style="margin-bottom: 1px;"><g fill="currentColor" ><path d="M21.71 20.29l-3.68-3.68A8.963 8.963 0 0020 11c0-4.96-4.04-9-9-9s-9 4.04-9 9 4.04 9 9 9c2.12 0 4.07-.74 5.61-1.97l3.68 3.68c.2.19.45.29.71.29s.51-.1.71-.29c.39-.39.39-1.03 0-1.42zM4 11c0-3.86 3.14-7 7-7s7 3.14 7 7c0 1.92-.78 3.66-2.04 4.93-.01.01-.02.01-.02.01-.01.01-.01.01-.01.02A6.98 6.98 0 0111 18c-3.86 0-7-3.14-7-7z" ></path></g></svg>
                    </div>

                    <input class="w-full h-10 transition-colors duration-200 ease-in bg-gray-200 border border-transparent rounded md:text-sm hover:bg-white hover:border-gray-300 focus:outline-none focus:bg-white focus:border-gray-500 dark:bg-dark-600 dark:border-dark-600 placeholder-gray-400 dark:placeholder-dark-400"
                    style="padding: 0.625rem 0.75rem 0.625rem 2rem" type="text" placeholder="Search docs" />
                </div>

                <!-- Mobile search button mock -->
                <div class="flex items-center justify-center w-10 h-10 lg:hidden">
                    <svg xmlns="http://www.w3.org/2000/svg" class="flex-shrink-0 icon-base" width="20" height="20" viewBox="0 0 24 24" aria-labelledby="icon" role="presentation"  style="margin-bottom: 0px;"><g fill="currentColor" ><path d="M21.71 20.29l-3.68-3.68A8.963 8.963 0 0020 11c0-4.96-4.04-9-9-9s-9 4.04-9 9 4.04 9 9 9c2.12 0 4.07-.74 5.61-1.97l3.68 3.68c.2.19.45.29.71.29s.51-.1.71-.29c.39-.39.39-1.03 0-1.42zM4 11c0-3.86 3.14-7 7-7s7 3.14 7 7c0 1.92-.78 3.66-2.04 4.93-.01.01-.02.01-.02.01-.01.01-.01.01-.01.02A6.98 6.98 0 0111 18c-3.86 0-7-3.14-7-7z" ></path></g></svg>
                </div>

                <!-- Dark mode switch placehokder -->
                <div class="w-10 h-10 lg:ml-2"></div>

                <!-- History button mock -->
                <div class="flex items-center justify-center w-10 h-10" style="margin-right: -0.625rem;">
                    <svg xmlns="http://www.w3.org/2000/svg" class="flex-shrink-0 icon-base" width="22" height="22" viewBox="0 0 24 24" aria-labelledby="icon" role="presentation"  style="margin-bottom: 0px;"><g fill="currentColor" ><g ><path d="M12.01 6.01c-.55 0-1 .45-1 1V12a1 1 0 00.4.8l3 2.22a.985.985 0 001.39-.2.996.996 0 00-.21-1.4l-2.6-1.92V7.01c.02-.55-.43-1-.98-1z"></path><path d="M12.01 1.91c-5.33 0-9.69 4.16-10.05 9.4l-.29-.26a.997.997 0 10-1.34 1.48l1.97 1.79c.19.17.43.26.67.26s.48-.09.67-.26l1.97-1.79a.997.997 0 10-1.34-1.48l-.31.28c.34-4.14 3.82-7.41 8.05-7.41 4.46 0 8.08 3.63 8.08 8.09s-3.63 8.08-8.08 8.08c-2.18 0-4.22-.85-5.75-2.4a.996.996 0 10-1.42 1.4 10.02 10.02 0 007.17 2.99c5.56 0 10.08-4.52 10.08-10.08.01-5.56-4.52-10.09-10.08-10.09z"></path></g></g></svg>
                </div>
            </div>

            <div v-cloak class="flex items-center justify-end flex-grow">
                <div id="docs-mobile-search-button"></div>
                <doc-search-desktop></doc-search-desktop>

                <doc-theme-switch class="lg:ml-2"></doc-theme-switch>
                <doc-history></doc-history>
            </div>
        </div>
    </div>
</header>


    <div class="container relative flex bg-white">
        <!-- Sidebar Skeleton -->
<div v-cloak class="fixed flex flex-col flex-shrink-0 duration-300 ease-in-out bg-gray-100 border-gray-200 sidebar top-20 w-75 border-r h-screen md:sticky transition-transform skeleton dark:bg-dark-800 dark:border-dark-650">

    <!-- Render this div, if config.showSidebarFilter is `true` -->
    <div class="flex items-center h-16 px-6">
        <input class="w-full h-8 px-3 py-2 transition-colors duration-200 ease-linear bg-white border border-gray-200 rounded shadow-none text-sm focus:outline-none focus:border-gray-600 dark:bg-dark-600 dark:border-dark-600" type="text" placeholder="Filter" />
    </div>

    <div class="pl-6 mb-4 mt-1">
        <div class="w-32 h-3 mb-4 bg-gray-200 rounded-full loading dark:bg-dark-600"></div>
        <div class="w-48 h-3 mb-4 bg-gray-200 rounded-full loading dark:bg-dark-600"></div>
        <div class="w-40 h-3 mb-4 bg-gray-200 rounded-full loading dark:bg-dark-600"></div>
        <div class="w-32 h-3 mb-4 bg-gray-200 rounded-full loading dark:bg-dark-600"></div>
        <div class="w-48 h-3 mb-4 bg-gray-200 rounded-full loading dark:bg-dark-600"></div>
        <div class="w-40 h-3 mb-4 bg-gray-200 rounded-full loading dark:bg-dark-600"></div>
    </div>

    <div class="flex-shrink-0 mt-auto bg-transparent dark:border-dark-650">
        <a
    class="flex items-center justify-center flex-nowrap h-16 text-gray-400 dark:text-dark-400 hover:text-gray-700 dark:hover:text-dark-300 transition-colors duration-150 ease-in"
    target="_blank"
    href="https://retype.com"
    rel="noopener"
>
    <span class="text-xs whitespace-nowrap">Powered by</span>
    <svg xmlns="http://www.w3.org/2000/svg" class="ml-2" fill="currentColor" width="96" height="20" overflow="visible"><path d="M0 0v20h13.59V0H0zm11.15 17.54H2.44V2.46h8.71v15.08zM15.8 20h2.44V4.67L15.8 2.22zM20.45 6.89V20h2.44V9.34z"/><g><path d="M40.16 8.44c0 1.49-.59 2.45-1.75 2.88l2.34 3.32h-2.53l-2.04-2.96h-1.43v2.96h-2.06V5.36h3.5c1.43 0 2.46.24 3.07.73s.9 1.27.9 2.35zm-2.48 1.1c.26-.23.38-.59.38-1.09 0-.5-.13-.84-.4-1.03s-.73-.28-1.39-.28h-1.54v2.75h1.5c.72 0 1.2-.12 1.45-.35zM51.56 5.36V7.2h-4.59v1.91h4.13v1.76h-4.13v1.92h4.74v1.83h-6.79V5.36h6.64zM60.09 7.15v7.48h-2.06V7.15h-2.61V5.36h7.28v1.79h-2.61zM70.81 14.64h-2.06v-3.66l-3.19-5.61h2.23l1.99 3.45 1.99-3.45H74l-3.19 5.61v3.66zM83.99 6.19c.65.55.97 1.4.97 2.55s-.33 1.98-1 2.51-1.68.8-3.04.8h-1.23v2.59h-2.06V5.36h3.26c1.42 0 2.45.28 3.1.83zm-1.51 3.65c.25-.28.37-.69.37-1.22s-.16-.92-.48-1.14c-.32-.23-.82-.34-1.5-.34H79.7v3.12h1.38c.68 0 1.15-.14 1.4-.42zM95.85 5.36V7.2h-4.59v1.91h4.13v1.76h-4.13v1.92H96v1.83h-6.79V5.36h6.64z"/></g></svg>
</a>

    </div>
</div>

<!-- Sidebar component -->
<doc-sidebar v-cloak>
    <template #sidebar-footer>
        <div
            class="flex-shrink-0 mt-auto border-t md:bg-transparent md:border-none dark:border-dark-650"
        >

            <div class="py-3 px-6 md:hidden border-b dark:border-dark-650">
                <nav>
                    <ul class="flex flex-wrap justify-center items-center">
                        <li class="mr-6">
                            <a class="block py-1 text-sm whitespace-nowrap transition-colors duration-200 ease-linear text-blue-500 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200" href="https://www.newtonsoft.com/json">Json.NET</a>
                        </li>
                        <li class="mr-6">
                            <a class="block py-1 text-sm whitespace-nowrap transition-colors duration-200 ease-linear text-blue-500 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200" href="https://www.newtonsoft.com/jsonschema">Json.NET Schema</a>
                        </li>
                        <li class="mr-6">
                            <a class="block py-1 text-sm whitespace-nowrap transition-colors duration-200 ease-linear text-blue-500 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200" href="https://www.newtonsoft.com/store">Pricing</a>
                        </li>
                        <li class="mr-6">
                            <a class="block py-1 text-sm whitespace-nowrap transition-colors duration-200 ease-linear text-blue-500 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200" href="https://github.com/JamesNK/Newtonsoft.Json">GitHub</a>
                        </li>
                    </ul>
                </nav>
            </div>

            <a
    class="flex items-center justify-center flex-nowrap h-16 text-gray-400 dark:text-dark-400 hover:text-gray-700 dark:hover:text-dark-300 transition-colors duration-150 ease-in"
    target="_blank"
    href="https://retype.com"
    rel="noopener"
>
    <span class="text-xs whitespace-nowrap">Powered by</span>
    <svg xmlns="http://www.w3.org/2000/svg" class="ml-2" fill="currentColor" width="96" height="20" overflow="visible"><path d="M0 0v20h13.59V0H0zm11.15 17.54H2.44V2.46h8.71v15.08zM15.8 20h2.44V4.67L15.8 2.22zM20.45 6.89V20h2.44V9.34z"/><g><path d="M40.16 8.44c0 1.49-.59 2.45-1.75 2.88l2.34 3.32h-2.53l-2.04-2.96h-1.43v2.96h-2.06V5.36h3.5c1.43 0 2.46.24 3.07.73s.9 1.27.9 2.35zm-2.48 1.1c.26-.23.38-.59.38-1.09 0-.5-.13-.84-.4-1.03s-.73-.28-1.39-.28h-1.54v2.75h1.5c.72 0 1.2-.12 1.45-.35zM51.56 5.36V7.2h-4.59v1.91h4.13v1.76h-4.13v1.92h4.74v1.83h-6.79V5.36h6.64zM60.09 7.15v7.48h-2.06V7.15h-2.61V5.36h7.28v1.79h-2.61zM70.81 14.64h-2.06v-3.66l-3.19-5.61h2.23l1.99 3.45 1.99-3.45H74l-3.19 5.61v3.66zM83.99 6.19c.65.55.97 1.4.97 2.55s-.33 1.98-1 2.51-1.68.8-3.04.8h-1.23v2.59h-2.06V5.36h3.26c1.42 0 2.45.28 3.1.83zm-1.51 3.65c.25-.28.37-.69.37-1.22s-.16-.92-.48-1.14c-.32-.23-.82-.34-1.5-.34H79.7v3.12h1.38c.68 0 1.15-.14 1.4-.42zM95.85 5.36V7.2h-4.59v1.91h4.13v1.76h-4.13v1.92H96v1.83h-6.79V5.36h6.64z"/></g></svg>
</a>

        </div>
    </template>
</doc-sidebar>


        <div class="flex-grow min-w-0 dark:bg-dark-850">
            <!-- Render "toolbar" template here on api pages --><!-- Render page content -->
            <div class="flex">
    <div class="flex-grow min-w-0 px-6 md:px-16">
        <main class="relative pt-6 pb-16">
            <div class="docs-markdown" id="docs-content">
                <!-- Rendered if sidebar right is enabled -->
                <div id="docs-sidebar-right-toggle"></div>
               
                <!-- Page content  -->
<doc-anchor-target id="serialization-attributes" class="break-words">
    <h1>
        <doc-anchor-trigger class="header-anchor-trigger" to="#serialization-attributes">#</doc-anchor-trigger>
        <span>Serialization Attributes</span>
    </h1>
</doc-anchor-target>
<p>Attributes can be used to control how Json.NET serializes and deserializes .NET objects.</p>
<ul>
<li><a href="/Newtonsoft.Json/api/newtonsoft/json/jsonobjectattribute/">JsonObjectAttribute</a> - Placed on classes to control how they should be serialized as a JSON object.</li>
<li><a href="/Newtonsoft.Json/api/newtonsoft/json/jsonarrayattribute/">JsonArrayAttribute</a> - Placed on collections to control how they should be serialized as a JSON array.</li>
<li><a href="/Newtonsoft.Json/api/newtonsoft/json/jsondictionaryattribute/">JsonDictionaryAttribute</a> - Placed on dictionaries to control how they should be serialized as a JSON object.</li>
<li><a href="/Newtonsoft.Json/api/newtonsoft/json/jsonpropertyattribute/">JsonPropertyAttribute</a> - Placed on fields and properties to control how they should be serialized as a property in a JSON object.</li>
<li><a href="/Newtonsoft.Json/api/newtonsoft/json/jsonconverterattribute/">JsonConverterAttribute</a> - Placed on either classes or fields and properties to specify which JsonConverter should be used during serialization.</li>
<li><a href="/Newtonsoft.Json/api/newtonsoft/json/jsonextensiondataattribute/">JsonExtensionDataAttribute</a> - Placed on a collection field or property to deserialize properties with no matching class member into the specified collection and write values during serialization.</li>
<li><a href="/Newtonsoft.Json/api/newtonsoft/json/jsonconstructorattribute/">JsonConstructorAttribute</a> - Placed on a constructor to specify that it should be used to create the class during deserialization.</li>
</ul>
<doc-anchor-target id="standard-net-serialization-attributes">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#standard-net-serialization-attributes">#</doc-anchor-trigger>
        <span>Standard .NET Serialization Attributes</span>
    </h2>
</doc-anchor-target>
<p>As well as using the built-in Json.NET attributes, Json.NET also looks for the <a href="https://docs.microsoft.com/en-us/dotnet/api/system.serializableattribute">SerializableAttribute</a> (if IgnoreSerializableAttribute on DefaultContractResolver is set to false) <a href="https://docs.microsoft.com/en-us/dotnet/api/system.runtime.serialization.datacontractattribute">DataContractAttribute</a>, <a href="https://docs.microsoft.com/en-us/dotnet/api/system.runtime.serialization.datamemberattribute">DataMemberAttribute</a>, and <a href="https://docs.microsoft.com/en-us/dotnet/api/system.nonserializedattribute">NonSerializedAttribute</a> and attributes when determining how JSON is to be serialized and deserialized.</p>
<doc-alert type="primary"><p>Json.NET attributes take precedence over standard .NET serialization attributes (e.g. if both JsonPropertyAttribute and DataMemberAttribute are present on a property and both customize the name, the name from JsonPropertyAttribute will be used).</p>
</doc-alert>
<pre v-highlight:csharp><code v-pre source="../../Src/Newtonsoft.Json.Tests/Documentation/SerializationTests.cs" region="SerializationAttributes" title="Serialization Attributes Example">#region License
// Copyright (c) 2007 James Newton-King
//
// Permission is hereby granted, free of charge, to any person
// obtaining a copy of this software and associated documentation
// files (the &quot;Software&quot;), to deal in the Software without
// restriction, including without limitation the rights to use,
// copy, modify, merge, publish, distribute, sublicense, and/or sell
// copies of the Software, and to permit persons to whom the
// Software is furnished to do so, subject to the following
// conditions:
//
// The above copyright notice and this permission notice shall be
// included in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND,
// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
// OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
// HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
// WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
// FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
// OTHER DEALINGS IN THE SOFTWARE.
#endregion

#if !(NET35 || NET20 || PORTABLE || DNXCORE50) || NETSTANDARD2_0
using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Dynamic;
using System.IO;
using System.Linq;
using System.Runtime.Serialization;
using System.Text;
using Newtonsoft.Json.Converters;
using Newtonsoft.Json.Linq;
#if DNXCORE50
using Xunit;
using Test = Xunit.FactAttribute;
using Assert = Newtonsoft.Json.Tests.XUnitAssert;
#else
using NUnit.Framework;
#endif
using Newtonsoft.Json.Serialization;
using Newtonsoft.Json.Tests.TestObjects;
using Newtonsoft.Json.Utilities;
using System.Globalization;
using ErrorEventArgs = Newtonsoft.Json.Serialization.ErrorEventArgs;
using OriginalStreamWriter = System.IO.StreamWriter;
using StreamWriter = Newtonsoft.Json.Tests.Documentation.SerializationTests.StreamWriter;

namespace Newtonsoft.Json.Tests.Documentation
{
    [TestFixture]
    public class SerializationTests : TestFixtureBase
    {
        public class StreamWriter : OriginalStreamWriter
        {
            public StreamWriter(string path) : base(TestFixtureBase.ResolvePath(Path.GetFileName(path)))
            {
            }
        }

        [Test]
        public void SerializeObject()
        {
            #region SerializeObject
            Product product = new Product();

            product.Name = &quot;Apple&quot;;
            product.ExpiryDate = new DateTime(2008, 12, 28);
            product.Price = 3.99M;
            product.Sizes = new string[] { &quot;Small&quot;, &quot;Medium&quot;, &quot;Large&quot; };

            string output = JsonConvert.SerializeObject(product);
            //{
            //  &quot;Name&quot;: &quot;Apple&quot;,
            //  &quot;ExpiryDate&quot;: &quot;2008-12-28T00:00:00&quot;,
            //  &quot;Price&quot;: 3.99,
            //  &quot;Sizes&quot;: [
            //    &quot;Small&quot;,
            //    &quot;Medium&quot;,
            //    &quot;Large&quot;
            //  ]
            //}

            Product deserializedProduct = JsonConvert.DeserializeObject&lt;Product&gt;(output);
            #endregion

            Assert.AreEqual(&quot;Apple&quot;, deserializedProduct.Name);
        }

        [Test]
        public void JsonSerializerToStream()
        {
            #region JsonSerializerToStream
            Product product = new Product();
            product.ExpiryDate = new DateTime(2008, 12, 28);

            JsonSerializer serializer = new JsonSerializer();
            serializer.Converters.Add(new JavaScriptDateTimeConverter());
            serializer.NullValueHandling = NullValueHandling.Ignore;

            using (StreamWriter sw = new StreamWriter(@&quot;c:\json.txt&quot;))
            using (JsonWriter writer = new JsonTextWriter(sw))
            {
                serializer.Serialize(writer, product);
                // {&quot;ExpiryDate&quot;:new Date(1230375600000),&quot;Price&quot;:0}
            }
            #endregion
        }

        #region SerializationAttributes
        [JsonObject(MemberSerialization.OptIn)]
        public class Person
        {
            // &quot;John Smith&quot;
            [JsonProperty]
            public string Name { get; set; }

            // &quot;2000-12-15T22:11:03&quot;
            [JsonProperty]
            public DateTime BirthDate { get; set; }

            // new Date(976918263055)
            [JsonProperty]
            public DateTime LastModified { get; set; }

            // not serialized because mode is opt-in
            public string Department { get; set; }
        }
        #endregion

        #region SerializationCallbacksObject
        public class SerializationEventTestObject
        {
            // 2222
            // This member is serialized and deserialized with no change.
            public int Member1 { get; set; }

            // The value of this field is set and reset during and
            // after serialization.
            public string Member2 { get; set; }

            // This field is not serialized. The OnDeserializedAttribute
            // is used to set the member value after serialization.
            [JsonIgnore]
            public string Member3 { get; set; }

            // This field is set to null, but populated after deserialization.
            public string Member4 { get; set; }

            public SerializationEventTestObject()
            {
                Member1 = 11;
                Member2 = &quot;Hello World!&quot;;
                Member3 = &quot;This is a nonserialized value&quot;;
                Member4 = null;
            }

            [OnSerializing]
            internal void OnSerializingMethod(StreamingContext context)
            {
                Member2 = &quot;This value went into the data file during serialization.&quot;;
            }

            [OnSerialized]
            internal void OnSerializedMethod(StreamingContext context)
            {
                Member2 = &quot;This value was reset after serialization.&quot;;
            }

            [OnDeserializing]
            internal void OnDeserializingMethod(StreamingContext context)
            {
                Member3 = &quot;This value was set during deserialization&quot;;
            }

            [OnDeserialized]
            internal void OnDeserializedMethod(StreamingContext context)
            {
                Member4 = &quot;This value was set after deserialization.&quot;;
            }
        }
        #endregion

        [Test]
        public void SerializationCallbacksExample()
        {
            #region SerializationCallbacksExample
            SerializationEventTestObject obj = new SerializationEventTestObject();

            Console.WriteLine(obj.Member1);
            // 11
            Console.WriteLine(obj.Member2);
            // Hello World!
            Console.WriteLine(obj.Member3);
            // This is a nonserialized value
            Console.WriteLine(obj.Member4);
            // null

            string json = JsonConvert.SerializeObject(obj, Formatting.Indented);
            // {
            //   &quot;Member1&quot;: 11,
            //   &quot;Member2&quot;: &quot;This value went into the data file during serialization.&quot;,
            //   &quot;Member4&quot;: null
            // }

            Console.WriteLine(obj.Member1);
            // 11
            Console.WriteLine(obj.Member2);
            // This value was reset after serialization.
            Console.WriteLine(obj.Member3);
            // This is a nonserialized value
            Console.WriteLine(obj.Member4);
            // null

            obj = JsonConvert.DeserializeObject&lt;SerializationEventTestObject&gt;(json);

            Console.WriteLine(obj.Member1);
            // 11
            Console.WriteLine(obj.Member2);
            // This value went into the data file during serialization.
            Console.WriteLine(obj.Member3);
            // This value was set during deserialization
            Console.WriteLine(obj.Member4);
            // This value was set after deserialization.
            #endregion

            Assert.AreEqual(11, obj.Member1);
        }

        [Test]
        public void SerializationErrorHandling()
        {
            #region SerializationErrorHandling
            List&lt;string&gt; errors = new List&lt;string&gt;();

            List&lt;DateTime&gt; c = JsonConvert.DeserializeObject&lt;List&lt;DateTime&gt;&gt;(@&quot;[
                  '2009-09-09T00:00:00Z',
                  'I am not a date and will error!',
                  [
                    1
                  ],
                  '1977-02-20T00:00:00Z',
                  null,
                  '2000-12-01T00:00:00Z'
                ]&quot;,
                new JsonSerializerSettings
                {
                    Error = delegate(object sender, ErrorEventArgs args)
                    {
                        errors.Add(args.ErrorContext.Error.Message);
                        args.ErrorContext.Handled = true;
                    },
                    Converters = { new IsoDateTimeConverter() }
                });

            // 2009-09-09T00:00:00Z
            // 1977-02-20T00:00:00Z
            // 2000-12-01T00:00:00Z

            // The string was not recognized as a valid DateTime. There is a unknown word starting at index 0.
            // Unexpected token parsing date. Expected String, got StartArray.
            // Cannot convert null value to System.DateTime.
            #endregion

            Assert.AreEqual(new DateTime(2009, 9, 9, 0, 0, 0, DateTimeKind.Utc), c[0]);
        }

        [Test]
        public void SerializationErrorHandlingWithParent()
        {
            #region SerializationErrorHandlingWithParent
            List&lt;string&gt; errors = new List&lt;string&gt;();

            JsonSerializer serializer = new JsonSerializer();
            serializer.Error += delegate(object sender, ErrorEventArgs args)
            {
                // only log an error once
                if (args.CurrentObject == args.ErrorContext.OriginalObject)
                {
                    errors.Add(args.ErrorContext.Error.Message);
                }
            };
            #endregion
        }

        #region SerializationErrorHandlingAttributeObject
        public class PersonError
        {
            private List&lt;string&gt; _roles;

            public string Name { get; set; }
            public int Age { get; set; }

            public List&lt;string&gt; Roles
            {
                get
                {
                    if (_roles == null)
                    {
                        throw new Exception(&quot;Roles not loaded!&quot;);
                    }

                    return _roles;
                }
                set { _roles = value; }
            }

            public string Title { get; set; }

            [OnError]
            internal void OnError(StreamingContext context, ErrorContext errorContext)
            {
                errorContext.Handled = true;
            }
        }
        #endregion

        [Test]
        public void SerializationErrorHandlingAttributeExample()
        {
            #region SerializationErrorHandlingAttributeExample
            PersonError person = new PersonError
            {
                Name = &quot;George Michael Bluth&quot;,
                Age = 16,
                Roles = null,
                Title = &quot;Mister Manager&quot;
            };

            string json = JsonConvert.SerializeObject(person, Formatting.Indented);

            Console.WriteLine(json);
            //{
            //  &quot;Name&quot;: &quot;George Michael Bluth&quot;,
            //  &quot;Age&quot;: 16,
            //  &quot;Title&quot;: &quot;Mister Manager&quot;
            //}
            #endregion

            StringAssert.AreEqual(@&quot;{
  &quot;&quot;Name&quot;&quot;: &quot;&quot;George Michael Bluth&quot;&quot;,
  &quot;&quot;Age&quot;&quot;: 16,
  &quot;&quot;Title&quot;&quot;: &quot;&quot;Mister Manager&quot;&quot;
}&quot;, json);
        }

        [Test]
        public void PreservingObjectReferencesOff()
        {
            #region PreservingObjectReferencesOff
            Person p = new Person
            {
                BirthDate = new DateTime(1980, 12, 23, 0, 0, 0, DateTimeKind.Utc),
                LastModified = new DateTime(2009, 2, 20, 12, 59, 21, DateTimeKind.Utc),
                Name = &quot;James&quot;
            };

            List&lt;Person&gt; people = new List&lt;Person&gt;();
            people.Add(p);
            people.Add(p);

            string json = JsonConvert.SerializeObject(people, Formatting.Indented);
            //[
            //  {
            //    &quot;Name&quot;: &quot;James&quot;,
            //    &quot;BirthDate&quot;: &quot;1980-12-23T00:00:00Z&quot;,
            //    &quot;LastModified&quot;: &quot;2009-02-20T12:59:21Z&quot;
            //  },
            //  {
            //    &quot;Name&quot;: &quot;James&quot;,
            //    &quot;BirthDate&quot;: &quot;1980-12-23T00:00:00Z&quot;,
            //    &quot;LastModified&quot;: &quot;2009-02-20T12:59:21Z&quot;
            //  }
            //]
            #endregion

            StringAssert.AreEqual(@&quot;[
  {
    &quot;&quot;Name&quot;&quot;: &quot;&quot;James&quot;&quot;,
    &quot;&quot;BirthDate&quot;&quot;: &quot;&quot;1980-12-23T00:00:00Z&quot;&quot;,
    &quot;&quot;LastModified&quot;&quot;: &quot;&quot;2009-02-20T12:59:21Z&quot;&quot;
  },
  {
    &quot;&quot;Name&quot;&quot;: &quot;&quot;James&quot;&quot;,
    &quot;&quot;BirthDate&quot;&quot;: &quot;&quot;1980-12-23T00:00:00Z&quot;&quot;,
    &quot;&quot;LastModified&quot;&quot;: &quot;&quot;2009-02-20T12:59:21Z&quot;&quot;
  }
]&quot;, json);
        }

        [Test]
        public void PreservingObjectReferencesOn()
        {
            Person p = new Person
            {
                Name = &quot;James&quot;
            };
            List&lt;Person&gt; people = new List&lt;Person&gt;
            {
                p,
                p
            };

            #region PreservingObjectReferencesOn
            string json = JsonConvert.SerializeObject(people, Formatting.Indented,
                new JsonSerializerSettings { PreserveReferencesHandling = PreserveReferencesHandling.Objects });

            //[
            //  {
            //    &quot;$id&quot;: &quot;1&quot;,
            //    &quot;Name&quot;: &quot;James&quot;,
            //    &quot;BirthDate&quot;: &quot;1983-03-08T00:00Z&quot;,
            //    &quot;LastModified&quot;: &quot;2012-03-21T05:40Z&quot;
            //  },
            //  {
            //    &quot;$ref&quot;: &quot;1&quot;
            //  }
            //]

            List&lt;Person&gt; deserializedPeople = JsonConvert.DeserializeObject&lt;List&lt;Person&gt;&gt;(json,
                new JsonSerializerSettings { PreserveReferencesHandling = PreserveReferencesHandling.Objects });

            Console.WriteLine(deserializedPeople.Count);
            // 2

            Person p1 = deserializedPeople[0];
            Person p2 = deserializedPeople[1];

            Console.WriteLine(p1.Name);
            // James
            Console.WriteLine(p2.Name);
            // James

            bool equal = Object.ReferenceEquals(p1, p2);
            // true
            #endregion

            Assert.AreEqual(true, equal);
        }

        #region PreservingObjectReferencesAttribute
        [JsonObject(IsReference = true)]
        public class EmployeeReference
        {
            public string Name { get; set; }
            public EmployeeReference Manager { get; set; }
        }
        #endregion

        #region CustomCreationConverterObject
        public interface IPerson
        {
            string FirstName { get; set; }
            string LastName { get; set; }
            DateTime BirthDate { get; set; }
        }

        public class Employee : IPerson
        {
            public string FirstName { get; set; }
            public string LastName { get; set; }
            public DateTime BirthDate { get; set; }

            public string Department { get; set; }
            public string JobTitle { get; set; }
        }

        public class PersonConverter : CustomCreationConverter&lt;IPerson&gt;
        {
            public override IPerson Create(Type objectType)
            {
                return new Employee();
            }
        }
        #endregion

        [Test]
        public void CustomCreationConverterExample()
        {
            string json = @&quot;[
  {
    &quot;&quot;FirstName&quot;&quot;: &quot;&quot;Maurice&quot;&quot;,
    &quot;&quot;LastName&quot;&quot;: &quot;&quot;Moss&quot;&quot;,
    &quot;&quot;BirthDate&quot;&quot;: &quot;&quot;1981-03-08T00:00Z&quot;&quot;,
    &quot;&quot;Department&quot;&quot;: &quot;&quot;IT&quot;&quot;,
    &quot;&quot;JobTitle&quot;&quot;: &quot;&quot;Support&quot;&quot;
  },
  {
    &quot;&quot;FirstName&quot;&quot;: &quot;&quot;Jen&quot;&quot;,
    &quot;&quot;LastName&quot;&quot;: &quot;&quot;Barber&quot;&quot;,
    &quot;&quot;BirthDate&quot;&quot;: &quot;&quot;1985-12-10T00:00Z&quot;&quot;,
    &quot;&quot;Department&quot;&quot;: &quot;&quot;IT&quot;&quot;,
    &quot;&quot;JobTitle&quot;&quot;: &quot;&quot;Manager&quot;&quot;
  }
]&quot;;

            #region CustomCreationConverterExample
            //[
            //  {
            //    &quot;FirstName&quot;: &quot;Maurice&quot;,
            //    &quot;LastName&quot;: &quot;Moss&quot;,
            //    &quot;BirthDate&quot;: &quot;1981-03-08T00:00Z&quot;,
            //    &quot;Department&quot;: &quot;IT&quot;,
            //    &quot;JobTitle&quot;: &quot;Support&quot;
            //  },
            //  {
            //    &quot;FirstName&quot;: &quot;Jen&quot;,
            //    &quot;LastName&quot;: &quot;Barber&quot;,
            //    &quot;BirthDate&quot;: &quot;1985-12-10T00:00Z&quot;,
            //    &quot;Department&quot;: &quot;IT&quot;,
            //    &quot;JobTitle&quot;: &quot;Manager&quot;
            //  }
            //]

            List&lt;IPerson&gt; people = JsonConvert.DeserializeObject&lt;List&lt;IPerson&gt;&gt;(json, new PersonConverter());

            IPerson person = people[0];

            Console.WriteLine(person.GetType());
            // Newtonsoft.Json.Tests.Employee

            Console.WriteLine(person.FirstName);
            // Maurice

            Employee employee = (Employee)person;

            Console.WriteLine(employee.JobTitle);
            // Support
            #endregion

            Assert.AreEqual(&quot;Support&quot;, employee.JobTitle);
        }

        [Test]
        public void ContractResolver()
        {
            #region ContractResolver
            Product product = new Product
            {
                ExpiryDate = new DateTime(2010, 12, 20, 18, 1, 0, DateTimeKind.Utc),
                Name = &quot;Widget&quot;,
                Price = 9.99m,
                Sizes = new[] { &quot;Small&quot;, &quot;Medium&quot;, &quot;Large&quot; }
            };

            string json =
                JsonConvert.SerializeObject(
                    product,
                    Formatting.Indented,
                    new JsonSerializerSettings { ContractResolver = new CamelCasePropertyNamesContractResolver() }
                    );

            //{
            //  &quot;name&quot;: &quot;Widget&quot;,
            //  &quot;expiryDate&quot;: &quot;2010-12-20T18:01:00Z&quot;,
            //  &quot;price&quot;: 9.99,
            //  &quot;sizes&quot;: [
            //    &quot;Small&quot;,
            //    &quot;Medium&quot;,
            //    &quot;Large&quot;
            //  ]
            //}
            #endregion

            StringAssert.AreEqual(@&quot;{
  &quot;&quot;name&quot;&quot;: &quot;&quot;Widget&quot;&quot;,
  &quot;&quot;expiryDate&quot;&quot;: &quot;&quot;2010-12-20T18:01:00Z&quot;&quot;,
  &quot;&quot;price&quot;&quot;: 9.99,
  &quot;&quot;sizes&quot;&quot;: [
    &quot;&quot;Small&quot;&quot;,
    &quot;&quot;Medium&quot;&quot;,
    &quot;&quot;Large&quot;&quot;
  ]
}&quot;, json);
        }

        [Test]
        public void SerializingCollectionsSerializing()
        {
            #region SerializingCollectionsSerializing
            Product p1 = new Product
            {
                Name = &quot;Product 1&quot;,
                Price = 99.95m,
                ExpiryDate = new DateTime(2000, 12, 29, 0, 0, 0, DateTimeKind.Utc),
            };
            Product p2 = new Product
            {
                Name = &quot;Product 2&quot;,
                Price = 12.50m,
                ExpiryDate = new DateTime(2009, 7, 31, 0, 0, 0, DateTimeKind.Utc),
            };

            List&lt;Product&gt; products = new List&lt;Product&gt;();
            products.Add(p1);
            products.Add(p2);

            string json = JsonConvert.SerializeObject(products, Formatting.Indented);
            //[
            //  {
            //    &quot;Name&quot;: &quot;Product 1&quot;,
            //    &quot;ExpiryDate&quot;: &quot;2000-12-29T00:00:00Z&quot;,
            //    &quot;Price&quot;: 99.95,
            //    &quot;Sizes&quot;: null
            //  },
            //  {
            //    &quot;Name&quot;: &quot;Product 2&quot;,
            //    &quot;ExpiryDate&quot;: &quot;2009-07-31T00:00:00Z&quot;,
            //    &quot;Price&quot;: 12.50,
            //    &quot;Sizes&quot;: null
            //  }
            //]
            #endregion

            StringAssert.AreEqual(@&quot;[
  {
    &quot;&quot;Name&quot;&quot;: &quot;&quot;Product 1&quot;&quot;,
    &quot;&quot;ExpiryDate&quot;&quot;: &quot;&quot;2000-12-29T00:00:00Z&quot;&quot;,
    &quot;&quot;Price&quot;&quot;: 99.95,
    &quot;&quot;Sizes&quot;&quot;: null
  },
  {
    &quot;&quot;Name&quot;&quot;: &quot;&quot;Product 2&quot;&quot;,
    &quot;&quot;ExpiryDate&quot;&quot;: &quot;&quot;2009-07-31T00:00:00Z&quot;&quot;,
    &quot;&quot;Price&quot;&quot;: 12.50,
    &quot;&quot;Sizes&quot;&quot;: null
  }
]&quot;, json);
        }

        [Test]
        public void SerializingCollectionsDeserializing()
        {
            #region SerializingCollectionsDeserializing
            string json = @&quot;[
              {
                'Name': 'Product 1',
                'ExpiryDate': '2000-12-29T00:00Z',
                'Price': 99.95,
                'Sizes': null
              },
              {
                'Name': 'Product 2',
                'ExpiryDate': '2009-07-31T00:00Z',
                'Price': 12.50,
                'Sizes': null
              }
            ]&quot;;

            List&lt;Product&gt; products = JsonConvert.DeserializeObject&lt;List&lt;Product&gt;&gt;(json);

            Console.WriteLine(products.Count);
            // 2

            Product p1 = products[0];

            Console.WriteLine(p1.Name);
            // Product 1
            #endregion

            Assert.AreEqual(&quot;Product 1&quot;, p1.Name);
        }

        [Test]
        public void SerializingCollectionsDeserializingDictionaries()
        {
            #region SerializingCollectionsDeserializingDictionaries
            string json = @&quot;{&quot;&quot;key1&quot;&quot;:&quot;&quot;value1&quot;&quot;,&quot;&quot;key2&quot;&quot;:&quot;&quot;value2&quot;&quot;}&quot;;

            Dictionary&lt;string, string&gt; values = JsonConvert.DeserializeObject&lt;Dictionary&lt;string, string&gt;&gt;(json);

            Console.WriteLine(values.Count);
            // 2

            Console.WriteLine(values[&quot;key1&quot;]);
            // value1
            #endregion

            Assert.AreEqual(&quot;value1&quot;, values[&quot;key1&quot;]);
        }

        #region SerializingDatesInJson
        public class LogEntry
        {
            public string Details { get; set; }
            public DateTime LogDate { get; set; }
        }

        [Test]
        public void WriteJsonDates()
        {
            LogEntry entry = new LogEntry
            {
                LogDate = new DateTime(2009, 2, 15, 0, 0, 0, DateTimeKind.Utc),
                Details = &quot;Application started.&quot;
            };

            // default as of Json.NET 4.5
            string isoJson = JsonConvert.SerializeObject(entry);
            // {&quot;Details&quot;:&quot;Application started.&quot;,&quot;LogDate&quot;:&quot;2009-02-15T00:00:00Z&quot;}

            JsonSerializerSettings microsoftDateFormatSettings = new JsonSerializerSettings
            {
                DateFormatHandling = DateFormatHandling.MicrosoftDateFormat
            };
            string microsoftJson = JsonConvert.SerializeObject(entry, microsoftDateFormatSettings);
            // {&quot;Details&quot;:&quot;Application started.&quot;,&quot;LogDate&quot;:&quot;\/Date(1234656000000)\/&quot;}

            string javascriptJson = JsonConvert.SerializeObject(entry, new JavaScriptDateTimeConverter());
            // {&quot;Details&quot;:&quot;Application started.&quot;,&quot;LogDate&quot;:new Date(1234656000000)}
        }
        #endregion

        #region ReducingSerializedJsonSizeOptOut
        public class Car
        {
            // included in JSON
            public string Model { get; set; }
            public DateTime Year { get; set; }
            public List&lt;string&gt; Features { get; set; }

            // ignored
            [JsonIgnore]
            public DateTime LastModified { get; set; }
        }
        #endregion

        #region ReducingSerializedJsonSizeOptIn
        [DataContract]
        public class Computer
        {
            // included in JSON
            [DataMember]
            public string Name { get; set; }

            [DataMember]
            public decimal SalePrice { get; set; }

            // ignored
            public string Manufacture { get; set; }
            public int StockCount { get; set; }
            public decimal WholeSalePrice { get; set; }
            public DateTime NextShipmentDate { get; set; }
        }
        #endregion

        #region ReducingSerializedJsonSizeNullValueHandlingObject
        public class Movie
        {
            public string Name { get; set; }
            public string Description { get; set; }
            public string Classification { get; set; }
            public string Studio { get; set; }
            public DateTime? ReleaseDate { get; set; }
            public List&lt;string&gt; ReleaseCountries { get; set; }
        }
        #endregion

        [Test]
        public void ReducingSerializedJsonSizeNullValueHandlingExample()
        {
            #region ReducingSerializedJsonSizeNullValueHandlingExample
            Movie movie = new Movie();
            movie.Name = &quot;Bad Boys III&quot;;
            movie.Description = &quot;It's no Bad Boys&quot;;

            string included = JsonConvert.SerializeObject(movie,
                Formatting.Indented,
                new JsonSerializerSettings { });

            // {
            //   &quot;Name&quot;: &quot;Bad Boys III&quot;,
            //   &quot;Description&quot;: &quot;It's no Bad Boys&quot;,
            //   &quot;Classification&quot;: null,
            //   &quot;Studio&quot;: null,
            //   &quot;ReleaseDate&quot;: null,
            //   &quot;ReleaseCountries&quot;: null
            // }

            string ignored = JsonConvert.SerializeObject(movie,
                Formatting.Indented,
                new JsonSerializerSettings { NullValueHandling = NullValueHandling.Ignore });

            // {
            //   &quot;Name&quot;: &quot;Bad Boys III&quot;,
            //   &quot;Description&quot;: &quot;It's no Bad Boys&quot;
            // }
            #endregion

            StringAssert.AreEqual(@&quot;{
  &quot;&quot;Name&quot;&quot;: &quot;&quot;Bad Boys III&quot;&quot;,
  &quot;&quot;Description&quot;&quot;: &quot;&quot;It's no Bad Boys&quot;&quot;,
  &quot;&quot;Classification&quot;&quot;: null,
  &quot;&quot;Studio&quot;&quot;: null,
  &quot;&quot;ReleaseDate&quot;&quot;: null,
  &quot;&quot;ReleaseCountries&quot;&quot;: null
}&quot;, included);

            StringAssert.AreEqual(@&quot;{
  &quot;&quot;Name&quot;&quot;: &quot;&quot;Bad Boys III&quot;&quot;,
  &quot;&quot;Description&quot;&quot;: &quot;&quot;It's no Bad Boys&quot;&quot;
}&quot;, ignored);
        }

        #region ReducingSerializedJsonSizeDefaultValueHandlingObject
        public class Invoice
        {
            public string Company { get; set; }
            public decimal Amount { get; set; }

            // false is default value of bool
            public bool Paid { get; set; }
            // null is default value of nullable
            public DateTime? PaidDate { get; set; }

            // customize default values
            [DefaultValue(30)]
            public int FollowUpDays { get; set; }

            [DefaultValue(&quot;&quot;)]
            public string FollowUpEmailAddress { get; set; }
        }
        #endregion

        [Test]
        public void ReducingSerializedJsonSizeDefaultValueHandlingExample()
        {
            #region ReducingSerializedJsonSizeDefaultValueHandlingExample
            Invoice invoice = new Invoice
            {
                Company = &quot;Acme Ltd.&quot;,
                Amount = 50.0m,
                Paid = false,
                FollowUpDays = 30,
                FollowUpEmailAddress = string.Empty,
                PaidDate = null
            };

            string included = JsonConvert.SerializeObject(invoice,
                Formatting.Indented,
                new JsonSerializerSettings { });

            // {
            //   &quot;Company&quot;: &quot;Acme Ltd.&quot;,
            //   &quot;Amount&quot;: 50.0,
            //   &quot;Paid&quot;: false,
            //   &quot;PaidDate&quot;: null,
            //   &quot;FollowUpDays&quot;: 30,
            //   &quot;FollowUpEmailAddress&quot;: &quot;&quot;
            // }

            string ignored = JsonConvert.SerializeObject(invoice,
                Formatting.Indented,
                new JsonSerializerSettings { DefaultValueHandling = DefaultValueHandling.Ignore });

            // {
            //   &quot;Company&quot;: &quot;Acme Ltd.&quot;,
            //   &quot;Amount&quot;: 50.0
            // }
            #endregion

            StringAssert.AreEqual(@&quot;{
  &quot;&quot;Company&quot;&quot;: &quot;&quot;Acme Ltd.&quot;&quot;,
  &quot;&quot;Amount&quot;&quot;: 50.0,
  &quot;&quot;Paid&quot;&quot;: false,
  &quot;&quot;PaidDate&quot;&quot;: null,
  &quot;&quot;FollowUpDays&quot;&quot;: 30,
  &quot;&quot;FollowUpEmailAddress&quot;&quot;: &quot;&quot;&quot;&quot;
}&quot;, included);

            StringAssert.AreEqual(@&quot;{
  &quot;&quot;Company&quot;&quot;: &quot;&quot;Acme Ltd.&quot;&quot;,
  &quot;&quot;Amount&quot;&quot;: 50.0
}&quot;, ignored);
        }

        #region ReducingSerializedJsonSizeContractResolverObject
        public class DynamicContractResolver : DefaultContractResolver
        {
            private readonly char _startingWithChar;

            public DynamicContractResolver(char startingWithChar)
            {
                _startingWithChar = startingWithChar;
            }

            protected override IList&lt;JsonProperty&gt; CreateProperties(Type type, MemberSerialization memberSerialization)
            {
                IList&lt;JsonProperty&gt; properties = base.CreateProperties(type, memberSerialization);

                // only serializer properties that start with the specified character
                properties =
                    properties.Where(p =&gt; p.PropertyName.StartsWith(_startingWithChar.ToString())).ToList();

                return properties;
            }
        }

        public class Book
        {
            public string BookName { get; set; }
            public decimal BookPrice { get; set; }
            public string AuthorName { get; set; }
            public int AuthorAge { get; set; }
            public string AuthorCountry { get; set; }
        }
        #endregion

        [Test]
        public void ReducingSerializedJsonSizeContractResolverExample()
        {
            #region ReducingSerializedJsonSizeContractResolverExample
            Book book = new Book
            {
                BookName = &quot;The Gathering Storm&quot;,
                BookPrice = 16.19m,
                AuthorName = &quot;Brandon Sanderson&quot;,
                AuthorAge = 34,
                AuthorCountry = &quot;United States of America&quot;
            };

            string startingWithA = JsonConvert.SerializeObject(book, Formatting.Indented,
                new JsonSerializerSettings { ContractResolver = new DynamicContractResolver('A') });

            // {
            //   &quot;AuthorName&quot;: &quot;Brandon Sanderson&quot;,
            //   &quot;AuthorAge&quot;: 34,
            //   &quot;AuthorCountry&quot;: &quot;United States of America&quot;
            // }

            string startingWithB = JsonConvert.SerializeObject(book, Formatting.Indented,
                new JsonSerializerSettings { ContractResolver = new DynamicContractResolver('B') });

            // {
            //   &quot;BookName&quot;: &quot;The Gathering Storm&quot;,
            //   &quot;BookPrice&quot;: 16.19
            // }
            #endregion

            StringAssert.AreEqual(@&quot;{
  &quot;&quot;AuthorName&quot;&quot;: &quot;&quot;Brandon Sanderson&quot;&quot;,
  &quot;&quot;AuthorAge&quot;&quot;: 34,
  &quot;&quot;AuthorCountry&quot;&quot;: &quot;&quot;United States of America&quot;&quot;
}&quot;, startingWithA);

            StringAssert.AreEqual(@&quot;{
  &quot;&quot;BookName&quot;&quot;: &quot;&quot;The Gathering Storm&quot;&quot;,
  &quot;&quot;BookPrice&quot;&quot;: 16.19
}&quot;, startingWithB);
        }

        #region SerializingPartialJsonFragmentsObject
        public class SearchResult
        {
            public string Title { get; set; }
            public string Content { get; set; }
            public string Url { get; set; }
        }
        #endregion

        [Test]
        public void SerializingPartialJsonFragmentsExample()
        {
            #region SerializingPartialJsonFragmentsExample
            string googleSearchText = @&quot;{
              'responseData': {
                'results': [
                  {
                    'GsearchResultClass': 'GwebSearch',
                    'unescapedUrl': 'http://en.wikipedia.org/wiki/Paris_Hilton',
                    'url': 'http://en.wikipedia.org/wiki/Paris_Hilton',
                    'visibleUrl': 'en.wikipedia.org',
                    'cacheUrl': 'http://www.google.com/search?q=cache:TwrPfhd22hYJ:en.wikipedia.org',
                    'title': '&lt;b&gt;Paris Hilton&lt;/b&gt; - Wikipedia, the free encyclopedia',
                    'titleNoFormatting': 'Paris Hilton - Wikipedia, the free encyclopedia',
                    'content': '[1] In 2006, she released her debut album...'
                  },
                  {
                    'GsearchResultClass': 'GwebSearch',
                    'unescapedUrl': 'http://www.imdb.com/name/nm0385296/',
                    'url': 'http://www.imdb.com/name/nm0385296/',
                    'visibleUrl': 'www.imdb.com',
                    'cacheUrl': 'http://www.google.com/search?q=cache:1i34KkqnsooJ:www.imdb.com',
                    'title': '&lt;b&gt;Paris Hilton&lt;/b&gt;',
                    'titleNoFormatting': 'Paris Hilton',
                    'content': 'Self: Zoolander. Socialite &lt;b&gt;Paris Hilton&lt;/b&gt;...'
                  }
                ],
                'cursor': {
                  'pages': [
                    {
                      'start': '0',
                      'label': 1
                    },
                    {
                      'start': '4',
                      'label': 2
                    },
                    {
                      'start': '8',
                      'label': 3
                    },
                    {
                      'start': '12',
                      'label': 4
                    }
                  ],
                  'estimatedResultCount': '59600000',
                  'currentPageIndex': 0,
                  'moreResultsUrl': 'http://www.google.com/search?oe=utf8&amp;ie=utf8...'
                }
              },
              'responseDetails': null,
              'responseStatus': 200
            }&quot;;

            JObject googleSearch = JObject.Parse(googleSearchText);

            // get JSON result objects into a list
            IList&lt;JToken&gt; results = googleSearch[&quot;responseData&quot;][&quot;results&quot;].Children().ToList();

            // serialize JSON results into .NET objects
            IList&lt;SearchResult&gt; searchResults = new List&lt;SearchResult&gt;();
            foreach (JToken result in results)
            {
                // JToken.ToObject is a helper method that uses JsonSerializer internally
                SearchResult searchResult = result.ToObject&lt;SearchResult&gt;();
                searchResults.Add(searchResult);
            }

            // Title = &lt;b&gt;Paris Hilton&lt;/b&gt; - Wikipedia, the free encyclopedia
            // Content = [1] In 2006, she released her debut album...
            // Url = http://en.wikipedia.org/wiki/Paris_Hilton

            // Title = &lt;b&gt;Paris Hilton&lt;/b&gt;
            // Content = Self: Zoolander. Socialite &lt;b&gt;Paris Hilton&lt;/b&gt;...
            // Url = http://www.imdb.com/name/nm0385296/
            #endregion

            Assert.AreEqual(&quot;&lt;b&gt;Paris Hilton&lt;/b&gt; - Wikipedia, the free encyclopedia&quot;, searchResults[0].Title);
        }

        [Test]
        public void SerializeMultidimensionalArrayExample()
        {
            string[,] famousCouples = new string[,]
            {
                { &quot;Adam&quot;, &quot;Eve&quot; },
                { &quot;Bonnie&quot;, &quot;Clyde&quot; },
                { &quot;Donald&quot;, &quot;Daisy&quot; },
                { &quot;Han&quot;, &quot;Leia&quot; }
            };

            string json = JsonConvert.SerializeObject(famousCouples, Formatting.Indented);
            // [
            //   [&quot;Adam&quot;, &quot;Eve&quot;],
            //   [&quot;Bonnie&quot;, &quot;Clyde&quot;],
            //   [&quot;Donald&quot;, &quot;Daisy&quot;],
            //   [&quot;Han&quot;, &quot;Leia&quot;]
            // ]

            string[,] deserialized = JsonConvert.DeserializeObject&lt;string[,]&gt;(json);

            Console.WriteLine(deserialized[3, 0] + &quot;, &quot; + deserialized[3, 1]);
            // Han, Leia

            Assert.AreEqual(&quot;Han&quot;, deserialized[3, 0]);
        }
    }
}

#endif</code></pre>
<doc-anchor-target id="json-net-serialization-attributes">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#json-net-serialization-attributes">#</doc-anchor-trigger>
        <span>Json.NET Serialization Attributes</span>
    </h2>
</doc-anchor-target>
<doc-anchor-target id="jsonobjectattribute">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#jsonobjectattribute">#</doc-anchor-trigger>
        <span>JsonObjectAttribute</span>
    </h2>
</doc-anchor-target>
<p>The MemberSerialization flag on this attribute specifies whether member serialization is opt-in (a member must have the JsonProperty or DataMember attribute to be serialized), opt-out (everything is serialized by default but can be ignored with the JsonIgnoreAttribute, Json.NET's default behavior) or fields (all public and private fields are serialized and properties are ignored).</p>
<p>Placing the <a href="https://docs.microsoft.com/en-us/dotnet/api/system.runtime.serialization.datacontractattribute">DataContractAttribute</a> on a type is another way to default member serialization to opt-in.</p>
<p>The NamingStrategy setting on this attributes can be set to a <a href="/Newtonsoft.Json/api/newtonsoft/json/serialization/namingstrategy/">NamingStrategy</a> type that specifies how property names are serialized.</p>
<p>Json.NET serializes .NET classes that implement IEnumerable as a JSON array populated with the IEnumerable values. Placing the <a href="/Newtonsoft.Json/api/newtonsoft/json/jsonobjectattribute/">JsonObjectAttribute</a> overrides this behavior and forces the serializer to serialize the class's fields and properties.</p>
<doc-anchor-target id="jsonarrayattributejsondictionaryattribute">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#jsonarrayattributejsondictionaryattribute">#</doc-anchor-trigger>
        <span>JsonArrayAttribute/JsonDictionaryAttribute</span>
    </h2>
</doc-anchor-target>
<p>The <a href="/Newtonsoft.Json/api/newtonsoft/json/jsonarrayattribute/">JsonArrayAttribute</a> and <a href="/Newtonsoft.Json/api/newtonsoft/json/jsondictionaryattribute/">JsonDictionaryAttribute</a> are used to specify whether a class is serialized as that collection type.</p>
<p>The collection attributes have options to customize the JsonConverter, type name handling, and reference handling that are applied to collection items.</p>
<doc-anchor-target id="jsonpropertyattribute">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#jsonpropertyattribute">#</doc-anchor-trigger>
        <span>JsonPropertyAttribute</span>
    </h2>
</doc-anchor-target>
<p>JsonPropertyAttribute has a number of uses:</p>
<ul>
<li>By default, the JSON property will have the same name as the .NET property. This attribute allows the name to be customized.</li>
<li>JsonPropertyAttribute indicates that a property should be serialized when member serialization is set to opt-in.</li>
<li>It includes non-public properties in serialization and deserialization.</li>
<li>It can be used to customize type name, reference, null, and default value handling for the property value.</li>
<li>It can be used to customize the <a href="/Newtonsoft.Json/api/newtonsoft/json/serialization/namingstrategy/">NamingStrategy</a> of the serialized property name.</li>
<li>It can be used to customize the property's collection items JsonConverter, type name handling, and reference handling.</li>
</ul>
<p>The DataMemberAttribute can be used as a substitute for JsonPropertyAttribute.</p>
<doc-anchor-target id="jsonignoreattribute">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#jsonignoreattribute">#</doc-anchor-trigger>
        <span>JsonIgnoreAttribute</span>
    </h2>
</doc-anchor-target>
<p>Excludes a field or property from serialization.</p>
<p>The <a href="https://docs.microsoft.com/en-us/dotnet/api/system.nonserializedattribute">NonSerializedAttribute</a> can be used as a substitute for JsonIgnoreAttribute.</p>
<doc-anchor-target id="jsonconverterattribute">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#jsonconverterattribute">#</doc-anchor-trigger>
        <span>JsonConverterAttribute</span>
    </h2>
</doc-anchor-target>
<p>The <a href="/Newtonsoft.Json/api/newtonsoft/json/jsonconverterattribute/">JsonConverterAttribute</a> specifies which <a href="/Newtonsoft.Json/api/newtonsoft/json/jsonconverter/">JsonConverter</a> is used to convert an object.</p>
<p>The attribute can be placed on a class or a member. When placed on a class, the JsonConverter specified by the attribute will be the default way of serializing that class. When the attribute is on a field or property, then the specified JsonConverter will always be used to serialize that value.</p>
<p>The priority of which JsonConverter is used is member attribute, then class attribute, and finally any converters passed to the JsonSerializer.</p>
<pre v-highlight:csharp><code v-pre source="../../Src/Newtonsoft.Json.Tests/Documentation/Samples/Serializer/JsonConverterAttributeProperty.cs" region="Types" title="JsonConverterAttribute Property Example">#region License
// Copyright (c) 2007 James Newton-King
//
// Permission is hereby granted, free of charge, to any person
// obtaining a copy of this software and associated documentation
// files (the &quot;Software&quot;), to deal in the Software without
// restriction, including without limitation the rights to use,
// copy, modify, merge, publish, distribute, sublicense, and/or sell
// copies of the Software, and to permit persons to whom the
// Software is furnished to do so, subject to the following
// conditions:
//
// The above copyright notice and this permission notice shall be
// included in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND,
// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
// OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
// HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
// WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
// FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
// OTHER DEALINGS IN THE SOFTWARE.
#endregion

using System;
using System.Collections.Generic;
using System.Text;
using Newtonsoft.Json.Converters;
#if DNXCORE50
using Xunit;
using Test = Xunit.FactAttribute;
using Assert = Newtonsoft.Json.Tests.XUnitAssert;
#else
using NUnit.Framework;

#endif

namespace Newtonsoft.Json.Tests.Documentation.Samples.Serializer
{
    [TestFixture]
    public class JsonConverterAttributeProperty : TestFixtureBase
    {
        #region Types
        public enum UserStatus
        {
            NotConfirmed,
            Active,
            Deleted
        }

        public class User
        {
            public string UserName { get; set; }

            [JsonConverter(typeof(StringEnumConverter))]
            public UserStatus Status { get; set; }
        }
        #endregion

        [Test]
        public void Example()
        {
            #region Usage
            User user = new User
            {
                UserName = @&quot;domain\username&quot;,
                Status = UserStatus.Deleted
            };

            string json = JsonConvert.SerializeObject(user, Formatting.Indented);

            Console.WriteLine(json);
            // {
            //   &quot;UserName&quot;: &quot;domain\\username&quot;,
            //   &quot;Status&quot;: &quot;Deleted&quot;
            // }
            #endregion

            StringAssert.AreEqual(@&quot;{
  &quot;&quot;UserName&quot;&quot;: &quot;&quot;domain\\username&quot;&quot;,
  &quot;&quot;Status&quot;&quot;: &quot;&quot;Deleted&quot;&quot;
}&quot;, json);
        }
    }
}</code></pre>
<p>This example shows the JsonConverterAttribute being applied to a property.</p>
<p>To apply a JsonConverter to the items in a collection, use either <a href="/Newtonsoft.Json/api/newtonsoft/json/jsonarrayattribute/">JsonArrayAttribute</a>, <a href="/Newtonsoft.Json/api/newtonsoft/json/jsondictionaryattribute/">JsonDictionaryAttribute</a> or <a href="/Newtonsoft.Json/api/newtonsoft/json/jsonpropertyattribute/">JsonPropertyAttribute</a> and set the ItemConverterType property to the converter type you want to use.</p>
<doc-anchor-target id="jsonextensiondataattribute">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#jsonextensiondataattribute">#</doc-anchor-trigger>
        <span>JsonExtensionDataAttribute</span>
    </h2>
</doc-anchor-target>
<p>The <a href="/Newtonsoft.Json/api/newtonsoft/json/jsonextensiondataattribute/">JsonExtensionDataAttribute</a> instructs the <a href="/Newtonsoft.Json/api/newtonsoft/json/jsonserializer/">JsonSerializer</a> to deserialize properties with no matching field or property on the type into the specified collection. During serialization the values in this collection are written back to the instance's JSON object.</p>
<doc-alert type="primary"><p>All extension data values will be written during serialization, even if a property the same name has already been written.</p>
</doc-alert>
<p>This example shows the JsonExtensionDataAttribute being applied to a field, unmatched JSON properties being added to the field's collection during deserialization.</p>
<pre v-highlight:csharp><code v-pre source="../../Src/Newtonsoft.Json.Tests/Documentation/Samples/Serializer/DeserializeExtensionData.cs" region="Types" title="Types">#region License
// Copyright (c) 2007 James Newton-King
//
// Permission is hereby granted, free of charge, to any person
// obtaining a copy of this software and associated documentation
// files (the &quot;Software&quot;), to deal in the Software without
// restriction, including without limitation the rights to use,
// copy, modify, merge, publish, distribute, sublicense, and/or sell
// copies of the Software, and to permit persons to whom the
// Software is furnished to do so, subject to the following
// conditions:
//
// The above copyright notice and this permission notice shall be
// included in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND,
// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
// OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
// HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
// WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
// FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
// OTHER DEALINGS IN THE SOFTWARE.
#endregion

using System;
using System.Collections.Generic;
using System.Text;
#if DNXCORE50
using Xunit;
using Test = Xunit.FactAttribute;
using Assert = Newtonsoft.Json.Tests.XUnitAssert;
#else
using NUnit.Framework;
#endif
using System.Runtime.Serialization;
using Newtonsoft.Json.Linq;

namespace Newtonsoft.Json.Tests.Documentation.Samples.Serializer
{
    [TestFixture]
    public class DeserializeExtensionData : TestFixtureBase
    {
        #region Types
        public class DirectoryAccount
        {
            // normal deserialization
            public string DisplayName { get; set; }

            // these properties are set in OnDeserialized
            public string UserName { get; set; }
            public string Domain { get; set; }

            [JsonExtensionData]
            private IDictionary&lt;string, JToken&gt; _additionalData;

            [OnDeserialized]
            private void OnDeserialized(StreamingContext context)
            {
                // SAMAccountName is not deserialized to any property
                // and so it is added to the extension data dictionary
                string samAccountName = (string)_additionalData[&quot;SAMAccountName&quot;];

                Domain = samAccountName.Split('\\')[0];
                UserName = samAccountName.Split('\\')[1];
            }

            public DirectoryAccount()
            {
                _additionalData = new Dictionary&lt;string, JToken&gt;();
            }
        }
        #endregion

        [Test]
        public void Example()
        {
            #region Usage
            string json = @&quot;{
              'DisplayName': 'John Smith',
              'SAMAccountName': 'contoso\\johns'
            }&quot;;

            DirectoryAccount account = JsonConvert.DeserializeObject&lt;DirectoryAccount&gt;(json);

            Console.WriteLine(account.DisplayName);
            // John Smith

            Console.WriteLine(account.Domain);
            // contoso

            Console.WriteLine(account.UserName);
            // johns
            #endregion

            Assert.AreEqual(&quot;John Smith&quot;, account.DisplayName);
            Assert.AreEqual(&quot;contoso&quot;, account.Domain);
            Assert.AreEqual(&quot;johns&quot;, account.UserName);
        }
    }
}</code></pre>
<pre v-highlight:csharp><code v-pre source="../../Src/Newtonsoft.Json.Tests/Documentation/Samples/Serializer/DeserializeExtensionData.cs" region="Usage" title="Usage">#region License
// Copyright (c) 2007 James Newton-King
//
// Permission is hereby granted, free of charge, to any person
// obtaining a copy of this software and associated documentation
// files (the &quot;Software&quot;), to deal in the Software without
// restriction, including without limitation the rights to use,
// copy, modify, merge, publish, distribute, sublicense, and/or sell
// copies of the Software, and to permit persons to whom the
// Software is furnished to do so, subject to the following
// conditions:
//
// The above copyright notice and this permission notice shall be
// included in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND,
// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
// OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
// HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
// WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
// FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
// OTHER DEALINGS IN THE SOFTWARE.
#endregion

using System;
using System.Collections.Generic;
using System.Text;
#if DNXCORE50
using Xunit;
using Test = Xunit.FactAttribute;
using Assert = Newtonsoft.Json.Tests.XUnitAssert;
#else
using NUnit.Framework;
#endif
using System.Runtime.Serialization;
using Newtonsoft.Json.Linq;

namespace Newtonsoft.Json.Tests.Documentation.Samples.Serializer
{
    [TestFixture]
    public class DeserializeExtensionData : TestFixtureBase
    {
        #region Types
        public class DirectoryAccount
        {
            // normal deserialization
            public string DisplayName { get; set; }

            // these properties are set in OnDeserialized
            public string UserName { get; set; }
            public string Domain { get; set; }

            [JsonExtensionData]
            private IDictionary&lt;string, JToken&gt; _additionalData;

            [OnDeserialized]
            private void OnDeserialized(StreamingContext context)
            {
                // SAMAccountName is not deserialized to any property
                // and so it is added to the extension data dictionary
                string samAccountName = (string)_additionalData[&quot;SAMAccountName&quot;];

                Domain = samAccountName.Split('\\')[0];
                UserName = samAccountName.Split('\\')[1];
            }

            public DirectoryAccount()
            {
                _additionalData = new Dictionary&lt;string, JToken&gt;();
            }
        }
        #endregion

        [Test]
        public void Example()
        {
            #region Usage
            string json = @&quot;{
              'DisplayName': 'John Smith',
              'SAMAccountName': 'contoso\\johns'
            }&quot;;

            DirectoryAccount account = JsonConvert.DeserializeObject&lt;DirectoryAccount&gt;(json);

            Console.WriteLine(account.DisplayName);
            // John Smith

            Console.WriteLine(account.Domain);
            // contoso

            Console.WriteLine(account.UserName);
            // johns
            #endregion

            Assert.AreEqual(&quot;John Smith&quot;, account.DisplayName);
            Assert.AreEqual(&quot;contoso&quot;, account.Domain);
            Assert.AreEqual(&quot;johns&quot;, account.UserName);
        }
    }
}</code></pre>
<doc-anchor-target id="jsonconstructorattribute">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#jsonconstructorattribute">#</doc-anchor-trigger>
        <span>JsonConstructorAttribute</span>
    </h2>
</doc-anchor-target>
<p>The <a href="/Newtonsoft.Json/api/newtonsoft/json/jsonconstructorattribute/">JsonConstructorAttribute</a> instructs the <a href="/Newtonsoft.Json/api/newtonsoft/json/jsonserializer/">JsonSerializer</a> to use a specific constructor when deserializing a class. It can be used to create a class using a parameterized constructor instead of the default constructor, or to pick which specific parameterized constructor to use if there are multiple.</p>
<pre v-highlight:csharp><code v-pre source="../../Src/Newtonsoft.Json.Tests/Documentation/Samples/Serializer/JsonConstructorAttribute.cs" region="Types" title="Types">#region License
// Copyright (c) 2007 James Newton-King
//
// Permission is hereby granted, free of charge, to any person
// obtaining a copy of this software and associated documentation
// files (the &quot;Software&quot;), to deal in the Software without
// restriction, including without limitation the rights to use,
// copy, modify, merge, publish, distribute, sublicense, and/or sell
// copies of the Software, and to permit persons to whom the
// Software is furnished to do so, subject to the following
// conditions:
//
// The above copyright notice and this permission notice shall be
// included in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND,
// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
// OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
// HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
// WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
// FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
// OTHER DEALINGS IN THE SOFTWARE.
#endregion

using System;
using System.Collections.Generic;
using System.Text;
using Newtonsoft.Json.Converters;
#if DNXCORE50
using Xunit;
using Test = Xunit.FactAttribute;
using Assert = Newtonsoft.Json.Tests.XUnitAssert;
#else
using NUnit.Framework;
#endif
using JsonConstructor = Newtonsoft.Json.JsonConstructorAttribute;

namespace Newtonsoft.Json.Tests.Documentation.Samples.Serializer
{
    [TestFixture]
    public class JsonConstructorAttribute : TestFixtureBase
    {
        #region Types
        public class User
        {
            public string UserName { get; private set; }
            public bool Enabled { get; private set; }

            public User()
            {
            }

            [JsonConstructor]
            public User(string userName, bool enabled)
            {
                UserName = userName;
                Enabled = enabled;
            }
        }
        #endregion

        [Test]
        public void Example()
        {
            #region Usage
            string json = @&quot;{
              &quot;&quot;UserName&quot;&quot;: &quot;&quot;domain\\username&quot;&quot;,
              &quot;&quot;Enabled&quot;&quot;: true
            }&quot;;

            User user = JsonConvert.DeserializeObject&lt;User&gt;(json);

            Console.WriteLine(user.UserName);
            // domain\username
            #endregion

            Assert.AreEqual(@&quot;domain\username&quot;, user.UserName);
        }
    }
}</code></pre>
<pre v-highlight:csharp><code v-pre source="../../Src/Newtonsoft.Json.Tests/Documentation/Samples/Serializer/JsonConstructorAttribute.cs" region="Usage" title="Usage">#region License
// Copyright (c) 2007 James Newton-King
//
// Permission is hereby granted, free of charge, to any person
// obtaining a copy of this software and associated documentation
// files (the &quot;Software&quot;), to deal in the Software without
// restriction, including without limitation the rights to use,
// copy, modify, merge, publish, distribute, sublicense, and/or sell
// copies of the Software, and to permit persons to whom the
// Software is furnished to do so, subject to the following
// conditions:
//
// The above copyright notice and this permission notice shall be
// included in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND,
// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
// OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
// HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
// WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
// FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
// OTHER DEALINGS IN THE SOFTWARE.
#endregion

using System;
using System.Collections.Generic;
using System.Text;
using Newtonsoft.Json.Converters;
#if DNXCORE50
using Xunit;
using Test = Xunit.FactAttribute;
using Assert = Newtonsoft.Json.Tests.XUnitAssert;
#else
using NUnit.Framework;
#endif
using JsonConstructor = Newtonsoft.Json.JsonConstructorAttribute;

namespace Newtonsoft.Json.Tests.Documentation.Samples.Serializer
{
    [TestFixture]
    public class JsonConstructorAttribute : TestFixtureBase
    {
        #region Types
        public class User
        {
            public string UserName { get; private set; }
            public bool Enabled { get; private set; }

            public User()
            {
            }

            [JsonConstructor]
            public User(string userName, bool enabled)
            {
                UserName = userName;
                Enabled = enabled;
            }
        }
        #endregion

        [Test]
        public void Example()
        {
            #region Usage
            string json = @&quot;{
              &quot;&quot;UserName&quot;&quot;: &quot;&quot;domain\\username&quot;&quot;,
              &quot;&quot;Enabled&quot;&quot;: true
            }&quot;;

            User user = JsonConvert.DeserializeObject&lt;User&gt;(json);

            Console.WriteLine(user.UserName);
            // domain\username
            #endregion

            Assert.AreEqual(@&quot;domain\username&quot;, user.UserName);
        }
    }
}</code></pre>
<doc-anchor-target id="see-also">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#see-also">#</doc-anchor-trigger>
        <span>See Also</span>
    </h2>
</doc-anchor-target>
<ul>
<li><a href="/Newtonsoft.Json/api/newtonsoft/json/jsonobjectattribute/">JsonObjectAttribute</a></li>
<li><a href="/Newtonsoft.Json/api/newtonsoft/json/jsonarrayattribute/">JsonArrayAttribute</a></li>
<li><a href="/Newtonsoft.Json/api/newtonsoft/json/jsondictionaryattribute/">JsonDictionaryAttribute</a></li>
<li><a href="/Newtonsoft.Json/api/newtonsoft/json/jsonpropertyattribute/">JsonPropertyAttribute</a></li>
<li><a href="/Newtonsoft.Json/api/newtonsoft/json/jsonconverterattribute/">JsonConverterAttribute</a></li>
<li><a href="/Newtonsoft.Json/api/newtonsoft/json/jsonextensiondataattribute/">JsonExtensionDataAttribute</a></li>
<li><a href="/Newtonsoft.Json/api/newtonsoft/json/jsonconstructorattribute/">JsonConstructorAttribute</a></li>
</ul>

    
                <!-- Required only on API pages -->
                <doc-toolbar-member-filter-no-results />
            </div>
        </main>
        <footer class="flex flex-wrap items-center justify-between border-t dark:border-dark-650 pt-6 mb-8">
    <div>
        <ul class="flex flex-wrap items-center text-sm">
            <li>
                <a href="https://www.newtonsoft.com/store/termsandconditions" class="block mr-4 py-2 text-sm whitespace-nowrap transition-colors duration-200 ease-linear text-blue-500 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200 md:mb-0">Terms</a>
            </li>
            <li>
                <a href="https://www.newtonsoft.com/store/privacy" class="block mr-4 py-2 text-sm whitespace-nowrap transition-colors duration-200 ease-linear text-blue-500 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200 md:mb-0">Privacy</a>
            </li>
            <li>
                <a href="https://www.newtonsoft.com/contact" class="block mr-4 py-2 text-sm whitespace-nowrap transition-colors duration-200 ease-linear text-blue-500 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200 md:mb-0">Contact</a>
            </li>
        </ul>
    </div>
    <div class="docs-copyright py-2 text-gray-500 dark:text-dark-350 text-sm leading-relaxed"><p> 2021 Newtonsoft</p>
</div>
</footer>

    </div>
    
    <!-- Rendered if sidebar right is enabled -->
    <!-- Sidebar right skeleton-->
    <div v-cloak class="fixed top-0 bottom-0 right-0 transform translate-x-full bg-white border-gray-200 lg:sticky lg:border-l lg:flex-shrink-0 lg:pt-6 lg:transform-none lg:w-56 lg:z-0 md:w-72 sidebar-right skeleton dark:bg-dark-850 dark:border-dark-650">
        <div class="pl-5">
            <div class="w-32 h-3 mb-4 bg-gray-200 dark:bg-dark-600 rounded-full loading"></div>
            <div class="w-48 h-3 mb-4 bg-gray-200 dark:bg-dark-600 rounded-full loading"></div>
            <div class="w-40 h-3 mb-4 bg-gray-200 dark:bg-dark-600 rounded-full loading"></div>
        </div>
    </div>
    
    <!-- User should be able to hide sidebar right -->
    <doc-sidebar-right v-cloak></doc-sidebar-right>
</div>

        </div>
    </div>

    <doc-search-mobile></doc-search-mobile>
    <doc-back-to-top></doc-back-to-top>
</div>


        <div id="docs-overlay-target"></div>

        <script>window.__DOCS__ = { "title": "Serialization Attributes", icon: "file" }</script>
    </body>
</html>
